

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; IBM Z HMC collection  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/banner.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="IBM Z HMC collection" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> IBM Z HMC collection
          

          
          </a>

          
            
            
              <div class="version">
                0.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#standard-installation-with-system-python">Standard installation with system Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#alternative-installation-with-virtual-python-environment">Alternative installation with virtual Python environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-environments">Supported environments</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="playbooks.html">Playbooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Community Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="community_guides.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>
<p class="caption"><span class="caption-text">Requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html#control-node">Control node</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">IBM Z HMC collection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><a href="../master/installation.html"><b>Warning:</b> This document is for the development version of IBM Z HMC collection. The main version is master.</a></p>
<div class="section" id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>The system Ansible is installed on is called the “control system”. This is
where Ansible commands (such as <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code>) are invoked.</p>
<p>Ansible is written in Python but invokes Ansible modules always as executables,
even when they are also written in Python. Therefore, Ansible modules
implemented in Python are run as Python scripts and are not imported as Python
modules.</p>
<p>The standard installation is that Ansible is installed as an operating system
package and uses the existing system Python. The Ansible modules then also use
the system Python.</p>
<p>As an alternative to the standard installation, it is possible to use a
<a class="reference external" href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">virtual Python environment</a> for Ansible itself and for Ansible modules
written in Python. Using a virtual Python environment has the main advantages
that it minimizes the risk of incompatibilities between Python packages because
the virtual environment contains only the packages that are needed for the
specific use case, and that it does not pollute your system Python installation
with other Python packages, keeping the risk of incompatibilities away from
your system Python.</p>
<p>The following sections describe these two installation methods.</p>
<div class="section" id="standard-installation-with-system-python">
<h2>Standard installation with system Python<a class="headerlink" href="#standard-installation-with-system-python" title="Permalink to this headline">¶</a></h2>
<p>All commands shown are to be executed in a terminal or command prompt on the
control system. The instructions are written for a bash shell.</p>
<ol class="arabic">
<li><p>Install Ansible as an operating system package on the control system.</p>
<p>For details, see <a class="reference external" href="http://docs.ansible.com/ansible/latest/intro_installation.html#installing-the-control-machine">Installing the Control Machine</a>.</p>
</li>
<li><p>Install the <strong>IBM Z HMC collection</strong> from Ansible Galaxy:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ansible-galaxy collection install ibm.ibm_zhmc
</pre></div>
</div>
<p>This will install the collection to your local Ansible collections tree,
which is by default <code class="docutils literal notranslate"><span class="pre">$HOME/.ansible/collections/ansible_collections</span></code>.
It does not install any dependent Python packages.</p>
</li>
<li><p>Install the dependent Python packages into your system Python:</p>
<p>Double check where the <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection got installed:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ansible-galaxy collection list ibm.ibm_zhmc
<span class="c1"># /Users/johndoe/.ansible/collections/ansible_collections</span>
Collection   Version
------------ -------
ibm.ibm_zhmc <span class="m">1</span>.0.0
</pre></div>
</div>
<p>Set a variable to the installation directory shown in the command output:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">anco_dir</span><span class="o">=</span>/Users/johndoe/.ansible/collections/ansible_collections
</pre></div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file in the installation directory of the
<code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection, install dependent Python packages into your
system Python:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ sudo pip install -r <span class="nv">$anco_dir</span>/ibm/ibm_zhmc/requirements.txt
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="alternative-installation-with-virtual-python-environment">
<h2>Alternative installation with virtual Python environment<a class="headerlink" href="#alternative-installation-with-virtual-python-environment" title="Permalink to this headline">¶</a></h2>
<p>This section describes the installation of Ansible and the ibm.ibm_zhmc Ansible
Galaxy collection into a virtual Python environment that is set
up using <a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a>.</p>
<p>This installation method utilizes the ability of Ansible to configure the
Python environment it uses, and configures it to use the active Python (which
can be a virtual Python environment or the system Python).</p>
<p>All commands shown are to be executed in a terminal or command prompt on the
control system. The instructions are written for a bash shell.</p>
<ol class="arabic">
<li><p>Create a virtual Python environment and activate it:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ mkvirtualenv myenv
</pre></div>
</div>
<p>Note: Using the command shown requires the <code class="docutils literal notranslate"><span class="pre">virtualenvwrapper</span></code> package.</p>
<p>For details, see <a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a>.</p>
</li>
<li><p>Install Ansible as a Python package on the control system:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ pip install ansible
</pre></div>
</div>
<p>This will install Ansible into the active Python, i.e. into the virtual
Python environment. Note that an OS-level Ansible and a Python-level
Ansible have shared configuration files, e.g. in <code class="docutils literal notranslate"><span class="pre">/etc/ansible</span></code>.</p>
</li>
<li><p>Create a shell script that invokes the active Python.</p>
<p>Adjust the file name and path for the shell script in the <code class="docutils literal notranslate"><span class="pre">python_script</span></code>
variable as needed, the only requirement is that the shell script must be
found in the PATH:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">python_script</span><span class="o">=</span><span class="nv">$HOME</span>/local/bin/env_python

$ cat &gt;<span class="nv">$python_script</span> <span class="s">&lt;&lt;&#39;EOT&#39;</span>
<span class="s">#!/bin/bash</span>
<span class="s">py=$(which python)</span>
<span class="s">$py &quot;$@&quot;</span>
<span class="s">EOT</span>

$ chmod <span class="m">755</span> <span class="nv">$python_script</span>
</pre></div>
</div>
</li>
<li><p>Configure Ansible to invoke Python via the new shell script (using the
<code class="docutils literal notranslate"><span class="pre">python_script</span></code> variable from the previous step):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ sudo tee -a /etc/ansible/hosts &gt;/dev/null <span class="s">&lt;&lt;EOT</span>
<span class="s">[local:vars]</span>
<span class="s">ansible_python_interpreter=$python_script</span>
<span class="s">EOT</span>
</pre></div>
</div>
</li>
<li><p>Install the <strong>IBM Z HMC collection</strong> from Ansible Galaxy:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ansible-galaxy collection install ibm.ibm_zhmc
</pre></div>
</div>
<p>This will install the collection to your local Ansible collections tree,
which is by default <code class="docutils literal notranslate"><span class="pre">$HOME/.ansible/collections/ansible_collections</span></code>.
It does not install any dependent Python packages.</p>
</li>
<li><p>Install the dependent Python packages into the active Python:</p>
<p>Double check where the <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection got installed:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ ansible-galaxy collection list ibm.ibm_zhmc
<span class="c1"># /Users/johndoe/.ansible/collections/ansible_collections</span>
Collection   Version
------------ -------
ibm.ibm_zhmc <span class="m">1</span>.0.0
</pre></div>
</div>
<p>Set a variable to the installation directory shown in the command output:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ <span class="nv">anco_dir</span><span class="o">=</span>/Users/johndoe/.ansible/collections/ansible_collections
</pre></div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file in the installation directory of the
<code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection, install dependent Python packages into your
active Python:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$ pip install -r <span class="nv">$anco_dir</span>/ibm/ibm_zhmc/requirements.txt
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="supported-environments">
<span id="id2"></span><h2>Supported environments<a class="headerlink" href="#supported-environments" title="Permalink to this headline">¶</a></h2>
<p>The following versions of Python are currently supported:</p>
<ul class="simple">
<li><p>Python 2.7</p></li>
<li><p>Python 3.5</p></li>
<li><p>Python 3.6</p></li>
<li><p>Python 3.7</p></li>
<li><p>Python 3.8</p></li>
<li><p>Python 3.9</p></li>
</ul>
<p>Higher versions of Python 3.x have not been tested at this point, but are
expected to work.</p>
<p>The following operating systems are supported:</p>
<ul class="simple">
<li><p>Linux</p></li>
<li><p>macOS (OS-X)</p></li>
<li><p>Windows</p></li>
</ul>
<p>The following versions of Ansible are supported:</p>
<ul class="simple">
<li><p>Ansible 2.9</p></li>
<li><p>Ansible 2.10</p></li>
</ul>
<p>The following Z and LinuxONE machine generations are supported:</p>
<ul class="simple">
<li><p>z13 / z13s / Emperor / Rockhopper</p></li>
<li><p>z14 / Emperor II / Rockhopper II</p></li>
<li><p>z15 / LinuxONE III</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="modules.html" class="btn btn-neutral float-right" title="Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="IBM Z HMC collection" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, IBM

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: stable_0.9
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../0.9.0/installation.html">0.9.0</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="installation.html">stable_0.9</a></dd>
            <dd><a href="../master/installation.html">master</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>