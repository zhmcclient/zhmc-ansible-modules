breaking_changes:
  - Removed the ability to install this collection on Ansible < 8
    (ansible-core < 2.15). This increases the minimum Python version to 3.9,
    because Ansible 8 requires Python >= 3.9. Note that Ansible versions < 8 were
    already unsupported by this collection since its version 1.9.
bugfixes:
  - Fixed safety issues up to 2025-07-23.
  - Fixed missing dependencies for development.
  - Increased zhmcclient version to 1.18.2 to pick up fixes. (issue 1074)
  - Fixed that all password-like input parameters that were written in clear text
    to the module entry log are now blanked out. This affected the following
    modules zhmc_ldap_server_definition, zhmc_lpar, zhmc_partition, zhmc_user.
  - Fixed that all password-like input parameters that were added to the
    module return value in clear text for 'state' values that created or updated
    the resource are now removed from the return value. This affected the
    following modules zhmc_ldap_server_definition, zhmc_lpar, zhmc_partition.
  - Sanity test - Fixed the sanity test on AutomationHub which failed because the
    "compile" and "import" tests were run for all target node Python versions,
    which includes Python 2.7. As we had dropped support for Python < 3.8 in
    collection version 1.9.0, the source code now uses Python 3-only features
    such as f-strings.
    This was done by adding a file tests/config.yml to the distribution archive
    that is consumed by the sanity test if present and that declares that the
    modules of this collection run only on the controller node, so the additional
    Python versions for the target node are no longer used for these sanity tests.
  - Dev - Fixed removal of some files in the Makefile.
  - Dev - Fixed new issue 'too-many-positional-arguments' reported by Pylint 3.3.0.
  - zhmc_user - Fixed that the `zhmc_user` module blanked out the 'password' property in
    the input params before passing them on to the zhmcclient
    'User.update_properties()' method. (issue 1081)
  - Docs - Fixed broken links to IBM documentation and updated permanently
    redirected links.
  - Docs - Ignored www.ansible.com in linkcheck, because it occasionally times out.
  - Test - Fixed duplicate 'description' properties in test YAML files.
    (issue 1097)
  - Test - For the password-rule related properties of the 'zhmc_user' and
    'zhmc_user_list' modules, fixed that they are always present, and not
    dependent on auth-type=local.
  - Test - For the ldap-server-definition related properties of the 'zhmc_user' and
    'zhmc_user_list' modules, fixed that they are always present, and not
    dependent on auth-type=local.
  - Test - For the MFA related properties of the 'zhmc_user' and
    'zhmc_user_list' modules, fixed that they are always present, and not
    dependent on mfa-types or other MFA related properties.
  - Circumvention for HTTP error 500.12 when creating NICs on Hipersocket
    adapters on z16 when the PartitionLink feature is enabled. This is a
    temporary circumvention until the defect will be fixed.
  - Dev - The test workflow now tolerates linkcheck errors. It now succeeds if there
    are linkcheck errors, but they are still displayed in the Actions summary.
  - Dev - Made order of names in AUTHORS.md reliable. (issue 1141)
  - Docs - Fixed incorrect module name in examples for the 'zhmc_nic' module.
    (issue 1058)
  - Fixed that resource objects for which the user has no access permission but
    that are referenced via URIs in other objects do not cause errors anymore.
    Such cases are now tolerated and the referenced objects are shown with their
    URI, with name "(unknown)" and with 'None' for their properties in any module
    results that show objects. (issue 1173)
  - Docs - Fixed Ansible Galaxy badge on README page. (issue 1136)
  - Dev - Removed the pinning of typer version to <0.17.0 with the new release of safety 3.6.1 and
    also upgraded minimum version of safety to be 3.6.1 to fix the issue with typer>=0.17.0,
    see  https://github.com/pyupio/safety/issues/778
  - Fixed that for z17 CPCs, NICs backed by OSA or HiperSocket adapters could not
    be created or updated to change their backing adapter. (issue 1178)
  - Docs - Fixed broken links in the documentation. Fixed the description of
    commit message checking in the development section of the documentation to
    remove the mentioning of the GitCop service which is no longer used.
  - Docs - Updates in Bibliography section - Collapsed the HMC WS-API books to a
    single version (2.17), Added link to HMC Help, Updated HMC Security book to
    2.17, Removed the HMC Operations Guide which no longer exists.
  - Dev - Upgrade nltk to 3.9.1 to fix the wordnet error, see https://github.com/nltk/nltk/issues/3416
  - Added check for missing imports in 'module_utils/common.py', in the modules
    'zhmc_adapter_list.py' and 'zhmc_session.py'.
major_changes:
  - Support for ansible-core 2.18, by adding an ignore file for the sanity tests.
  - zhmc_user - Added a boolean 'expand_names' parameter to the 'zhmc_user' module. This
    allows disabling the addition of names for referenced objects. For
    backwards compatibility, this parameter is True by default.
  - zhmc_user_list - Added a boolean 'expand_names' parameter to the 'zhmc_user_list' module. This
    allows enabling the addition of names for referenced objects, which improves
    the performance compared to a loop of calls to the 'zhmc_user' module
    with 'expand_names', because the data needed for translating the URIs to names
    is retrieved only once. To save these extra retrieval operations by default,
    this parameter is False by default.
  - Added support for the following properties and input parameters in the
    'zhmc_user' and 'zhmc_user_list' modules (user-template related,
    primary-mfa-server-definition related, backup-mfa-server-definition related,
    default-group related)
  - zhmc_user - Added a logged warning if the deprecated parameter 'expand' is used for
    the 'zhmc_user' module.
  - zhmc_partition - Lifted the size limit of 2GB for ISO images that can be mounted with the
    'zhmc_partition' module using 'state=mount_iso'.
  - zhmc_nic - Added properties 'adapter-id', 'adapter-name' and 'adapter-port' to the
    properties returned by the NIC in the `zhmc_nic` module.
  - zhmc_nic_list - Added properties 'adapter_id', 'adapter_name' and 'adapter_port' to the
    properties returned for each NIC listed by the `zhmc_nic_list` module.
    The inclusion of these properties is controlled with a new 'expand_names'
    input parameter of that module.
minor_changes:
  - Docs - Added CHANGELOG.rst file and changed to fragments based change log (issue 731).
  - Removed the unnecessary .pylintrc file from the distribution archive of the
    collection.
  - Dev - Brought the list of dependent files for the distribution archive in the
    Makefile back in sync with its content.
  - Removed the 'collections' directory from the distribution archive, because it
    is not needed there.
  - Updated authors in the collection metadata to be in sync with contributions to
    the repo, and changed from showing Github nicknames to showing email
    addresses.
  - Updated collection description in the collection metadata to be in sync with
    the overview description in the README.md file.
  - Dev - Cleaned up preparation of sanity test in Makefile.
  - Dev - Added to the release instructions to roll back fixes for safety issues,
    dependabot issues and Mend issues, into any maintained stable branches.
  - Dev - Relaxed the conditions when safety issues are tolerated.
    Issues in development dependencies are now tolerated in normal and scheduled
    test workflow runs (but not in local make runs and release test workflow runs).
    Issues in installation dependencies are now tolerated in normal test workflow
    runs (but not in local make runs and scheduled/release test workflow runs).
  - Test - Accommodated rollout of Ubuntu 24.04 on GitHub Actions by using
    ubuntu-22.04 as the OS image for Python 3.8 based test runs.
  - Docs - In the parameter documentation for the 'zhmc_user' and 'zhmc_user_list'
    modules, made the language more explicit that states under which conditions
    each parameter is present.
  - Test - Removed the invalid combinations of type and auth-type from the end2end
    test 'test_zhmc_user_facts()'.
  - Replaced our own extended version of 'missing_required_lib()' with the
    standard version from 'ansible.module_utils.basic' because the extensions
    were not used.
  - In order to reduce dependencies to other packages, the use of the urllib3
    package was removed. The urllib3 package was used to disable its warnings,
    but for an Ansible module that is not needed.
  - In order to reduce dependencies to other packages, the use of the pytz
    package was removed, by replacing 'pytz.utc' with the built-in
    'datetime.timezone.utc'.
  - In order to reduce dependencies to other packages, the MarkupSafe,
    importlib-metadata, python-dateutil and jsonschema packages have been
    removed from the requirements.txt file, since they are indirect dependencies.
  - Added missing dependencies to the minimum constraints files. They now contain
    all direct and indirect dependencies.
  - Moved the Python package dependencies for 'ansible' and 'ansible-core' from
    requirements.txt to a separate file requirements-ansible.txt that is not part
    of the collection package, because Ansible EE does not expect them to be in
    the install dependencies.
  - Test - In test_common.py, replaced use of the "immutable-views" package with
    "immutabledict".
  - Increased minimum version of zhmcclient to 1.23.1 to pick up fixes and new
    functionality.
  - Test - Added Python 3.13 to the tests in GitHub Actions.
  - The 'hmc_auth' input parameter is no longer completely removed from the
    module entry log, but instead its sensitive items 'password' and 'session_id'
    are now blanked out.
  - Dev - Added display of environment variables and platform details in test
    workflow.
  - Dev - Added commit message checker to test workflow. (issue 1137)
  - Added support for checking with Mend Renovate.
  - Test - Speed up end2end test function test_zhmc_partition_properties() by
    combining properties that are updated, to groups.
  - Test - Added an initial set of end2end testcases for the `zhmc_nic` module.
  - Test - Added end2end testcases for the `zhmc_nic_list` module.
