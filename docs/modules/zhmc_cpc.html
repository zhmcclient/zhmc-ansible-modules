

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>zhmc_cpc – Manages Z systems at the system level. &mdash; ibm.zhmc Ansible Galaxy collection 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="zhmc_crypto_attachment – Manages the attachment of crypto resources to partitions of Z systems." href="zhmc_crypto_attachment.html" />
    <link rel="prev" title="zhmc_adapter – Manages adapters of Z systems." href="zhmc_adapter.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ibm.zhmc Ansible Galaxy collection
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../all_modules.html">All modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="zhmc_adapter.html">zhmc_adapter – Manages adapters of Z systems.</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">zhmc_cpc – Manages Z systems at the system level.</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#return-values">Return Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#status">Status</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#authors">Authors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_crypto_attachment.html">zhmc_crypto_attachment – Manages the attachment of crypto resources to partitions of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_hba.html">zhmc_hba – Manages HBAs in partitions of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_nic.html">zhmc_nic – Manages NICs in partitions of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_partition.html">zhmc_partition – Manages partitions of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_storage_group.html">zhmc_storage_group – Manages storage groups of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_storage_group_attachment.html">zhmc_storage_group_attachment – Manages the attachment of storage groups to partitions of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_storage_volume.html">zhmc_storage_volume – Manages storage volumes of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_user.html">zhmc_user – Manages users defined on the HMC of Z systems.</a></li>
<li class="toctree-l2"><a class="reference internal" href="zhmc_virtual_function.html">zhmc_virtual_function – Manages virtual functions in partitions of Z systems.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Change log</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ibm.zhmc Ansible Galaxy collection</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../all_modules.html">All modules</a> &raquo;</li>
        
      <li>zhmc_cpc – Manages Z systems at the system level.</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="zhmc-cpc-manages-z-systems-at-the-system-level">
<span id="zhmc-cpc-module"></span><h1>zhmc_cpc – Manages Z systems at the system level.<a class="headerlink" href="#zhmc-cpc-manages-z-systems-at-the-system-level" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#requirements" id="id2">Requirements</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id3">Parameters</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id4">Examples</a></p></li>
<li><p><a class="reference internal" href="#return-values" id="id5">Return Values</a></p></li>
<li><p><a class="reference internal" href="#status" id="id6">Status</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p>Gather facts about a CPC (Z system), including its adapters and partitions.</p>
<p>Update the properties of a CPC.</p>
</div>
<div class="section" id="requirements">
<h2><a class="toc-backref" href="#id2">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The below requirements are needed on the host that executes this module.</p>
<ul class="simple">
<li><p>Access to the WS API of the HMC of the targeted Z system. The targeted Z system must be in the Dynamic Partition Manager (DPM) operational mode.</p></li>
<li><p>Python package zhmcclient &gt;=0.20.0</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id3">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl>
<dt>hmc_host (True, str, None)</dt><dd><p>The hostname or IP address of the HMC.</p>
</dd>
<dt>hmc_auth (True, dict, None)</dt><dd><p>The authentication credentials for the HMC, as a dictionary of <code class="docutils literal notranslate"><span class="pre">userid</span></code>, <code class="docutils literal notranslate"><span class="pre">password</span></code>.</p>
<dl class="simple">
<dt>userid (True, str, None)</dt><dd><p>The userid (username) for authenticating with the HMC.</p>
</dd>
<dt>password (True, str, None)</dt><dd><p>The password for authenticating with the HMC.</p>
</dd>
</dl>
</dd>
<dt>name (True, str, None)</dt><dd><p>The name of the target CPC.</p>
</dd>
<dt>state (True, str, None)</dt><dd><p>The desired state for the attachment:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">set</span></code>: Ensures that the CPC has the specified properties.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">facts</span></code>: Does not change anything on the CPC and returns the CPC properties including its child resources.</p></li>
</ul>
</dd>
<dt>properties (False, dict, None)</dt><dd><p>Only for <code class="docutils literal notranslate"><span class="pre">state=set</span></code>: New values for the properties of the CPC. Properties omitted in this dictionary will remain unchanged. This parameter will be ignored for <code class="docutils literal notranslate"><span class="pre">state=facts</span></code>.</p>
<p>The parameter is a dictionary. The key of each dictionary item is the property name as specified in the data model for CPC resources, with underscores instead of hyphens. The value of each dictionary item is the property value (in YAML syntax). Integer properties may also be provided as decimal strings.</p>
<p>The possible properties in this dictionary are the properties defined as writeable in the data model for CPC resources.</p>
</dd>
<dt>log_file (False, str, None)</dt><dd><p>File path of a log file to which the logic flow of this module as well as interactions with the HMC are logged. If null, logging will be propagated to the Python root logger.</p>
</dd>
<dt>faked_session (False, raw, None)</dt><dd><p>A <code class="docutils literal notranslate"><span class="pre">zhmcclient_mock.FakedSession</span></code> object that has a mocked HMC set up. If not null, this session will be used instead of connecting to the HMC specified in <code class="docutils literal notranslate"><span class="pre">hmc_host</span></code>. This is used for testing purposes only.</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id4">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>
<span class="c1"># Note: The following examples assume that some variables named &#39;my_*&#39; are set.</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Gather facts about the CPC</span>
  <span class="nt">zhmc_cpc</span><span class="p">:</span>
    <span class="nt">hmc_host</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_host</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">hmc_auth</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_auth</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">facts</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cpc1</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Ensure the CPC has the desired property values</span>
  <span class="nt">zhmc_cpc</span><span class="p">:</span>
    <span class="nt">hmc_host</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_host</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">hmc_auth</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_hmc_auth</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
    <span class="nt">state</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">set</span>
    <span class="nt">properties</span><span class="p">:</span>
      <span class="nt">acceptable_status</span><span class="p">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">active</span>
      <span class="nt">description</span><span class="p">:</span> <span class="s">&quot;This</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">CPC</span><span class="nv"> </span><span class="cp">{{</span> <span class="nv">my_cpc_name</span> <span class="cp">}}</span><span class="s">&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="return-values">
<h2><a class="toc-backref" href="#id5">Return Values</a><a class="headerlink" href="#return-values" title="Permalink to this headline">¶</a></h2>
<dl>
<dt>cpc (success, dict, )</dt><dd><p>A dictionary with the properties of the CPC, including additional artificial properties as described below.</p>
<dl>
<dt>name (, str, )</dt><dd><p>CPC name</p>
</dd>
<dt>{property} (, any, )</dt><dd><p>Additional properties of the CPC, as described in the HMC WS-API book (using hyphens (-) in the property names).</p>
</dd>
<dt>partitions (, dict, )</dt><dd><p>Artificial property for the defined partitions of the CPC, with a subset of its properties.</p>
<dl>
<dt>{name} (, dict, )</dt><dd><p>Partition name</p>
<dl class="simple">
<dt>name (, str, )</dt><dd><p>Partition name</p>
</dd>
<dt>status (, str, )</dt><dd><p>Status of the partition</p>
</dd>
<dt>object_uri (, str, )</dt><dd><p>Canonical URI of the partition</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>adapters (, dict, )</dt><dd><p>Artificial property for the adapters of the CPC, with a subset of its properties.</p>
<dl>
<dt>{name} (, dict, )</dt><dd><p>Adapter name</p>
<dl class="simple">
<dt>name (, str, )</dt><dd><p>Adapter name</p>
</dd>
<dt>status (, str, )</dt><dd><p>Status of the adapter</p>
</dd>
<dt>object_uri (, str, )</dt><dd><p>Canonical URI of the adapter</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt>storage-groups (, dict, )</dt><dd><p>Artificial property for the storage groups associated with the CPC, with a subset of its properties.</p>
<dl>
<dt>{name} (, dict, )</dt><dd><p>Storage group name</p>
<dl class="simple">
<dt>name (, str, )</dt><dd><p>Storage group name</p>
</dd>
<dt>fulfillment-status (, str, )</dt><dd><p>Fulfillment status of the storage group</p>
</dd>
<dt>object_uri (, str, )</dt><dd><p>Canonical URI of the storage group</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="status">
<h2><a class="toc-backref" href="#id6">Status</a><a class="headerlink" href="#status" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>This module is guaranteed to have backward compatible interface changes going forward. <em>[stableinterface]</em></p></li>
<li><p>This module is maintained by community.</p></li>
</ul>
<div class="section" id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Andreas Maier (&#64;andy-maier)</p></li>
<li><p>Andreas Scheuring (&#64;scheuran)</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="zhmc_crypto_attachment.html" class="btn btn-neutral float-right" title="zhmc_crypto_attachment – Manages the attachment of crypto resources to partitions of Z systems." accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="zhmc_adapter.html" class="btn btn-neutral float-left" title="zhmc_adapter – Manages adapters of Z systems." accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2020, IBM

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>