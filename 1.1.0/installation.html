<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; IBM Z HMC collection  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/banner.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=7f41d439"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="IBM Z HMC collection" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            IBM Z HMC collection
          </a>
              <div class="version">
                1.1.0

              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#standard-installation-with-system-python">Standard installation with system Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#alternative-installation-with-virtual-python-environment">Alternative installation with virtual Python environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supported-environments">Supported environments</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="playbooks.html">Playbooks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Community Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="community_guides.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Requirements</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html#control-node">Control node</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="versioning.html">Versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Resources</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">IBM Z HMC collection</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h1>
<p>The system Ansible is installed on is called the “control system”. This is
where Ansible commands (such as <code class="docutils literal notranslate"><span class="pre">ansible-playbook</span></code>) are invoked.</p>
<p>Ansible is written in Python but invokes Ansible modules always as executables,
even when they are also written in Python. Therefore, Ansible modules
implemented in Python are run as Python scripts and are not imported as Python
modules.</p>
<p>The standard installation is that Ansible is installed as an operating system
package and uses the existing system Python. The Ansible modules then also use
the system Python.</p>
<p>As an alternative to the standard installation, it is possible to use a
<a class="reference external" href="https://docs.python-guide.org/dev/virtualenvs/">virtual Python environment</a> for Ansible itself and for Ansible modules
written in Python. Using a virtual Python environment has the main advantages
that it minimizes the risk of incompatibilities between Python packages because
the virtual environment contains only the packages that are needed for the
specific use case, and that it does not pollute your system Python installation
with other Python packages, keeping the risk of incompatibilities away from
your system Python.</p>
<p>The following sections describe these two installation methods.</p>
<section id="standard-installation-with-system-python">
<h2>Standard installation with system Python<a class="headerlink" href="#standard-installation-with-system-python" title="Link to this heading"></a></h2>
<p>All commands shown are to be executed in a terminal or command prompt on the
control system. The instructions are written for a bash shell.</p>
<ol class="arabic">
<li><p>Install Ansible as an operating system package on the control system.</p>
<p>For details, see <a class="reference external" href="https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#installing-ansible-on-specific-operating-systems">Installing Ansible on specific operating systems</a>.</p>
</li>
<li><p>Install the <strong>IBM Z HMC collection</strong> from Ansible Galaxy:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>install<span class="w"> </span>ibm.ibm_zhmc
</pre></div>
</div>
<p>This will install the collection to your local Ansible collections tree,
which is by default <code class="docutils literal notranslate"><span class="pre">$HOME/.ansible/collections/ansible_collections</span></code>.
It does not install any dependent Python packages.</p>
</li>
<li><p>Install the dependent Python packages into your system Python:</p>
<p>Double check where the <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection got installed:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>list<span class="w"> </span>ibm.ibm_zhmc
<span class="c1"># /Users/johndoe/.ansible/collections/ansible_collections</span>
Collection<span class="w">   </span>Version
------------<span class="w"> </span>-------
ibm.ibm_zhmc<span class="w"> </span><span class="m">1</span>.0.0
</pre></div>
</div>
<p>Set a variable to the installation directory shown in the command output:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">anco_dir</span><span class="o">=</span>/Users/johndoe/.ansible/collections/ansible_collections
</pre></div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file in the installation directory of the
<code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection, install dependent Python packages into your
system Python:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span><span class="nv">$anco_dir</span>/ibm/ibm_zhmc/requirements.txt
</pre></div>
</div>
</li>
</ol>
</section>
<section id="alternative-installation-with-virtual-python-environment">
<h2>Alternative installation with virtual Python environment<a class="headerlink" href="#alternative-installation-with-virtual-python-environment" title="Link to this heading"></a></h2>
<p>This section describes the installation of Ansible and the ibm.ibm_zhmc Ansible
Galaxy collection into a virtual Python environment that is set
up using <a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a>.</p>
<p>This installation method utilizes the ability of Ansible to configure the
Python environment it uses, and configures it to use the active Python (which
can be a virtual Python environment or the system Python).</p>
<p>All commands shown are to be executed in a terminal or command prompt on the
control system. The instructions are written for a bash shell.</p>
<ol class="arabic">
<li><p>Create a virtual Python environment and activate it:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>mkvirtualenv<span class="w"> </span>myenv
</pre></div>
</div>
<p>Note: Using the command shown requires the <code class="docutils literal notranslate"><span class="pre">virtualenvwrapper</span></code> package.</p>
<p>For details, see <a class="reference external" href="https://virtualenv.pypa.io/">virtualenv</a>.</p>
</li>
<li><p>Install Ansible as a Python package on the control system:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>ansible
</pre></div>
</div>
<p>This will install Ansible into the active Python, i.e. into the virtual
Python environment. Note that an OS-level Ansible and a Python-level
Ansible have shared configuration files, e.g. in <code class="docutils literal notranslate"><span class="pre">/etc/ansible</span></code>.</p>
</li>
<li><p>Create a shell script that invokes the active Python.</p>
<p>Adjust the file name and path for the shell script in the <code class="docutils literal notranslate"><span class="pre">python_script</span></code>
variable as needed, the only requirement is that the shell script must be
found in the PATH:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">python_script</span><span class="o">=</span><span class="nv">$HOME</span>/local/bin/env_python

$<span class="w"> </span>cat<span class="w"> </span>&gt;<span class="nv">$python_script</span><span class="w"> </span><span class="s">&lt;&lt;&#39;EOT&#39;</span>
<span class="s">#!/bin/bash</span>
<span class="s">py=$(which python)</span>
<span class="s">$py &quot;$@&quot;</span>
<span class="s">EOT</span>

$<span class="w"> </span>chmod<span class="w"> </span><span class="m">755</span><span class="w"> </span><span class="nv">$python_script</span>
</pre></div>
</div>
</li>
<li><p>Configure Ansible to invoke Python via the new shell script (using the
<code class="docutils literal notranslate"><span class="pre">python_script</span></code> variable from the previous step):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/etc/ansible/hosts<span class="w"> </span>&gt;/dev/null<span class="w"> </span><span class="s">&lt;&lt;EOT</span>
<span class="s">[local:vars]</span>
<span class="s">ansible_python_interpreter=$python_script</span>
<span class="s">EOT</span>
</pre></div>
</div>
</li>
<li><p>Install the <strong>IBM Z HMC collection</strong> from Ansible Galaxy:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>install<span class="w"> </span>ibm.ibm_zhmc
</pre></div>
</div>
<p>This will install the collection to your local Ansible collections tree,
which is by default <code class="docutils literal notranslate"><span class="pre">$HOME/.ansible/collections/ansible_collections</span></code>.
It does not install any dependent Python packages.</p>
</li>
<li><p>Install the dependent Python packages into the active Python:</p>
<p>Double check where the <code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection got installed:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>ansible-galaxy<span class="w"> </span>collection<span class="w"> </span>list<span class="w"> </span>ibm.ibm_zhmc
<span class="c1"># /Users/johndoe/.ansible/collections/ansible_collections</span>
Collection<span class="w">   </span>Version
------------<span class="w"> </span>-------
ibm.ibm_zhmc<span class="w"> </span><span class="m">1</span>.0.0
</pre></div>
</div>
<p>Set a variable to the installation directory shown in the command output:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">anco_dir</span><span class="o">=</span>/Users/johndoe/.ansible/collections/ansible_collections
</pre></div>
</div>
<p>Using the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file in the installation directory of the
<code class="docutils literal notranslate"><span class="pre">ibm.ibm_zhmc</span></code> collection, install dependent Python packages into your
active Python:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span><span class="nv">$anco_dir</span>/ibm/ibm_zhmc/requirements.txt
</pre></div>
</div>
</li>
</ol>
</section>
<section id="supported-environments">
<span id="id2"></span><h2>Supported environments<a class="headerlink" href="#supported-environments" title="Link to this heading"></a></h2>
<p>The following versions of Python are supported:</p>
<ul class="simple">
<li><p>Python 2.7</p></li>
<li><p>Python 3.5 and higher</p></li>
</ul>
<p>The following operating systems are supported:</p>
<ul class="simple">
<li><p>Linux</p></li>
<li><p>macOS (OS-X)</p></li>
<li><p>Windows</p></li>
</ul>
<p>The following versions of Ansible are supported:</p>
<ul class="simple">
<li><p>Ansible 2.9</p></li>
<li><p>Ansible 2.10</p></li>
<li><p>Ansible 3.0 (ansible-base 2.10)</p></li>
<li><p>Ansible 4.0 (ansible-core 2.11)</p></li>
<li><p>Ansible 5.0 (ansible-core 2.12)</p></li>
</ul>
<p>The following Z and LinuxONE machine generations are supported:</p>
<ul class="simple">
<li><p>z13 / z13s / Emperor / Rockhopper</p></li>
<li><p>z14 / Emperor II / Rockhopper II</p></li>
<li><p>z15 / LinuxONE III</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="IBM Z HMC collection" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="modules.html" class="btn btn-neutral float-right" title="Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2020, IBM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: 1.1.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../0.9.0/installation.html">0.9.0</a></dd>
            <dd><a href="../0.9.1/installation.html">0.9.1</a></dd>
            <dd><a href="../0.9.2/installation.html">0.9.2</a></dd>
            <dd><a href="../0.9.3/installation.html">0.9.3</a></dd>
            <dd><a href="../0.10.0/installation.html">0.10.0</a></dd>
            <dd><a href="../0.10.1/installation.html">0.10.1</a></dd>
            <dd><a href="../1.0.0/installation.html">1.0.0</a></dd>
            <dd><a href="../1.0.2/installation.html">1.0.2</a></dd>
            <dd><a href="../1.0.3/installation.html">1.0.3</a></dd>
            <dd><a href="installation.html">1.1.0</a></dd>
            <dd><a href="../1.1.1/installation.html">1.1.1</a></dd>
            <dd><a href="../1.2.0/installation.html">1.2.0</a></dd>
            <dd><a href="../1.2.1/installation.html">1.2.1</a></dd>
            <dd><a href="../1.3.0/installation.html">1.3.0</a></dd>
            <dd><a href="../1.3.1/installation.html">1.3.1</a></dd>
            <dd><a href="../1.4.0/installation.html">1.4.0</a></dd>
            <dd><a href="../1.4.1/installation.html">1.4.1</a></dd>
            <dd><a href="../1.5.0/installation.html">1.5.0</a></dd>
            <dd><a href="../1.6.0/installation.html">1.6.0</a></dd>
            <dd><a href="../1.6.1/installation.html">1.6.1</a></dd>
            <dd><a href="../1.7.0/installation.html">1.7.0</a></dd>
            <dd><a href="../1.7.1/installation.html">1.7.1</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../master/installation.html">master</a></dd>
        </dl>
    </div>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>